<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Tunisie – Carte démographique</title>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Mobile control buttons -->
  <button id="toggleSidebar" class="toggle-sidebar" title="Afficher/masquer infos">❮</button>
  <button id="toggleFilters" class="toggle-filters" title="Filtres">☰</button>
<button id="toggleLegend" class="toggle-legend" title="Légende">🗺️</button>

  <!-- Loader overlay -->
 <!-- 1️⃣  Overlay loader -->
<div id="loader" class="loader hidden">
  <div class="spinner"></div>
  <div class="loading-text">Chargement…</div>
</div>

<!-- 2️⃣  Classe « resizable » sur #charts -->
<div id="layout">
  <div id="charts" class="resizable">
    <div id="info">…</div>
  </div>
  <div id="map"></div>
</div>

  <!-- Filtres -->
  <div id="filters">
      <h3 class="filters-title">🛠️ Filtres</h3>
    <label class="filter-label" for="levelSel">Niveau</label>
      <select id="levelSel">
      <option value="gov">🏛️ Gouvernorats</option>
      <option value="del">🏘️ Délégations</option>
      <option value="sec">🏚️ Secteurs</option>
    </select>
    <label class="filter-label" for="colorSel">Coloration</label>
      <select id="colorSel">
      <option value="density">🌐 Densité</option>
      <option value="age">👵 Âge médian</option>
    </select>
    <label class="filter-label" for="ageFil">Filtre âge</label>
      <select id="ageFil">
      <option value="">🎯 Filtrage âge</option>
      <option value="jeunes">🧒 Majorité jeunes</option>
      <option value="vieux">👴 Majorité seniors</option>
      <option value="femmes">👩 Majorité féminine</option>
      <option value="hommes">👨 Majorité masculine</option>
    </select>
<label class="filter-label" for="searchInput">Recherche</label>
      <input id="searchInput" list="searchList" placeholder="🔍 Rechercher…" autocomplete="off" style="flex:1;min-width:160px">
<datalist id="searchList"></datalist>
<button id="resetFil">♻️ Réinitialiser</button>
  </div>

  <script type="module" src="./js/main.js"></script>
</body>
</html>
